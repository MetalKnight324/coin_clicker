<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <script>
      var coinCount = 0;
      var clickRate = 1;
      var doubleClickRateCost = 10;
      var perSecondRate = 0;

      function drawCircle() {
        var canvas = document.getElementById("game-board");
        var context = canvas.getContext("2d");
        context.fillStyle = '#00F';
        context.beginPath();
        context.arc(95, 50, 40, 0, 2*Math.PI);
        context.fill();
      }

      function handleClick() {
        coinCount += clickRate;
        enableClickRateButton();
        showStats();
      }

      function purchaseClickRate() {
        clickRate *= 2;
        coinCount = coinCount - doubleClickRateCost;
        doubleClickRateCost = Math.round(doubleClickRateCost * 2.5);
        enableClickRateButton();
        showStats();
      }

      function purchasePerSecondRate() {
        perSecondRate += 10;
        showStats();
      }

      function enableClickRateButton() {
        var button = document.getElementById("clickRateButton");
        if(coinCount >= doubleClickRateCost) {
          button.disabled = false;
        } else {
          button.disabled = true;
        }
      }

      function addPerSecond() {
        console.log("Coins Per Second");
        coinCount = coinCount + perSecondRate;
        enableClickRateButton();
        showStats();
      }

      function showStats() {
        document.getElementById("coinsCell").innerHTML = coinCount;
        document.getElementById("clickRateCell").innerHTML = clickRate;
        document.getElementById("perSecondCell").innerHTML = perSecondRate;
        document.getElementById("doubleClickRateCell").innerHTML = doubleClickRateCost;

      }

      function init() {
        drawCircle();
        showStats();
        enableClickRateButton();
        setInterval(addPerSecond, 1000);
      }
    </script>
  </head>
  <body onload="init();">
    <canvas id="game-board" onclick="handleClick();"></canvas>
    <table>
      <tr>
        <th>Coins</th>
        <td id="coinsCell"></td>
      </tr>
      <tr>
        <th>Click rate</th>
        <td id="clickRateCell">1</td>
      </tr>
      <tr>
          <th>Per Second</th>
          <td id="perSecondCell"></td>
        </tr>
        <tr>
            <th>Click Rate x2 Cost</th>
            <td id="doubleClickRateCell"></td>
          </tr>

    </table>
    <button id="clickRateButton" onclick="purchaseClickRate();">Click Rate Double</button>
    <button id="lemonadeButton" onclick="purchasePerSecondRate();">Lemonade Stand</button>
  </body>
</html>
